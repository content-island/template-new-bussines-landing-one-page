---
interface Props {
  title: string;
  description: string;
  image: string;
  imageAlt: string;
  reverse?: boolean;
  features?: string[];
}

const { title, description, image, imageAlt, reverse = false, features = [] } = Astro.props;

const cardClass = `bg-primary-50 dark:bg-primary-950 rounded-lg overflow-hidden shadow-[0_4px_10px_0_hsl(from_var(--color-primary-800)_h_s_l_/_0.15)] dark:shadow-[0_4px_10px_0_hsl(from_var(--color-primary-950)_h_s_l_/_0.3)] transition-all duration-300 ease-in-out flex flex-col gap-md md:grid md:grid-cols-2 md:items-stretch md:gap-0  ${reverse ? '[direction:rtl] [&>*]:[direction:ltr]' : ''}`;
---

<article class={cardClass}>
  <img src={image} alt={imageAlt} class="h-64 w-full object-cover lg:h-full" />
  <div class="p-lg lg:p-xl gap-lg flex flex-col justify-center">
    <div class="flex flex-col gap-[17px]">
      <h3 class="text-text-90 mb-0 text-lg leading-none font-bold">
        {title}
      </h3>
      <p class="text-text-85 mb-0 text-sm leading-snug">
        {description}
      </p>
    </div>
    {
      features.length > 0 && (
        <ul class="gap-sm m-0 flex list-none flex-col p-0">
          {features.map(feature => (
            <li class="gap-sm text-text-85 flex items-center text-sm">
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="shrink-0"
              >
                <circle cx="10" cy="10" r="10" fill="currentColor" class="text-primary" />
                <path
                  d="M6 10L8.5 12.5L14 7"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <span>{feature}</span>
            </li>
          ))}
        </ul>
      )
    }
  </div>
</article>
